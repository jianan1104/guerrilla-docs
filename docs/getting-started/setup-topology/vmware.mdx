# Setup for VMWare



## Check NAT Configuration

1. Open Virtual Network Editor
Click Edit > Virtual Network Editor  to start a virtual network editor in VMWare Workstation.

![Image](https://i.imgur.com/Abz4G2O.png)

The Nat Subnet IP is automatically generated by VMware. Everyone sees differently and does not need to be changed, but there is no need to change it, but there is no need to change it, but there are no need to change it, but there are special needs to change it by themselves. The presets are used here.

Remember IP subnet `192.168.57.0` 


## Create Bridge Network 

Create a VMware virtual network card, and then connect the physical network card bridge to the virtual network card, so that the virtual machine can be used.


1. Open Virtual Network Editor
Click Edit > Virtual Network Editor  to start a virtual network editor in VMWare Workstation.
![Image](https://i.imgur.com/quVhQTY.png)

2. Select the preset `vmnet0` and `vmnet1`, and click `Remove Network`
![Image](https://i.imgur.com/63IJG12.png)

3. Click `Add Network...` to create `VMnet0`

4. Set VMnet type to `Bridged`, and bridged to one of your network interface.(e.g. `Realtek USB GbE Family Controller`)

![Image](https://i.imgur.com/jdJdTM2.png)

4. Click `Add Network...` to create `VMnet1`

5. Set VMnet type to `Bridged`, and bridged to one of your network interface.(e.g. `Realtek USB GbE Family Controller #2`)

![Image](https://i.imgur.com/FZok8BM.png)


6. Click `Apply` and `OK`

## Mapping Interface to Virtual Machines Instances

### Executor

1. Right click `ENV_CONFIGUTION: EXEC` and click `settings`

![Image](https://i.imgur.com/OSGhbJ4.png)

2. Click `Add..` to add `Network Adapter`

![Image](https://i.imgur.com/KZezTZU.png)

3. Set Network Connection to `Custom`, and Select `VMnet0`

![Image](https://i.imgur.com/HCI2nJh.png)

### Host 1


1. Right click `ENV_CONFIGUTION: host_1` and click `settings`

2. Click `Add..` to add `Network Adapter`

![Image](https://i.imgur.com/KZezTZU.png)

3. Set Network Connection to `Custom`, and Select `VMnet1`

![Image](https://i.imgur.com/1om42HA.png)

### Host 2

1. Right click `ENV_CONFIGUTION: host_2` and click `settings`


2. Click `Add..` to add `Network Adapter`

![Image](https://i.imgur.com/KZezTZU.png)

3. Set Network Connection to `Custom`, and Select `VMnet0`

![Image](https://i.imgur.com/HCI2nJh.png)


## IP and DNS Configuration

Enter each VM and setup network configuration.

### Executor

#### Set static IP

```bash 
$ sudo nano /etc/network/interfaces
```
Paste the following code, please fill in the IP network segment of `VMnet8`
```bash title="/etc/network/interfaces" showLineNumbers
auto eth0
iface eth0 inet static
# highlight-next-line
address 192.168.57.9
netmask 255.255.255.0
gateway 192.168.118.2
 
auto eth1
iface eth1 inet static
address 192.168.127.9
netmask 255.255.255.0
```

Restart network service

```bash
$ sudo systemctl restart networking.service
```

#### Set DNS Server
```bash
$ sudo nano /etc/resolv.conf
```

Paste the code below
```bash
domain
nameserver 10.123.200.11
nameserver 10.123.200.12
nameserver 8.8.8.8
```

Restart networking service

```bash
$ sudo /etc/init.d/networking restart
```

### HOST 1

#### Set static IP

```bash 
$ sudo nano /etc/network/interfaces
```
Paste the following code, please fill in the IP network segment of `VMnet8`
```bash title="/etc/network/interfaces" showLineNumbers
auto eth0
iface eth0 inet static
# highlight-next-line
address 192.168.57.11
netmask 255.255.255.0
gateway 192.168.118.2
 
auto eth1
iface eth1 inet static
address 192.168.127.11
netmask 255.255.255.0
```

Restart network service

```bash
$ sudo systemctl restart networking.service
```

#### Set DNS Server
```bash
$ sudo nano /etc/resolv.conf
```

Paste the code below
```bash
domain
nameserver 10.123.200.11
nameserver 10.123.200.12
nameserver 8.8.8.8
```

Restart networking service

```bash
$ sudo /etc/init.d/networking restart
```

### HOST 2

#### Set static IP

```bash 
$ sudo nano /etc/network/interfaces
```
Paste the following code, please fill in the IP network segment of `VMnet8`
```bash title="/etc/network/interfaces" showLineNumbers
auto eth0
iface eth0 inet static
# highlight-next-line
address 192.168.57.10
netmask 255.255.255.0
gateway 192.168.118.2
 
auto eth1
iface eth1 inet static
address 192.168.128.10
netmask 255.255.255.0
```

Restart network service

```bash
$ sudo systemctl restart networking.service
```

#### Set DNS Server
```bash
$ sudo nano /etc/resolv.conf
```

Paste the code below
```bash
domain
nameserver 10.123.200.11
nameserver 10.123.200.12
nameserver 8.8.8.8
```

Restart networking service

```bash
$ sudo /etc/init.d/networking restart
```